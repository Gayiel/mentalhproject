<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mind Flow - Mental Health Chat</title>
    <style>
        /* Clean, simple design */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            background: #f8fafc;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            text-align: center;
            padding: 30px 0;
        }

        .header h1 {
            font-size: 2rem;
            color: #2563eb;
            margin-bottom: 8px;
        }

        .header p {
            color: #64748b;
        }

        .chat-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .crisis-warning {
            background: #dc2626;
            color: white;
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 500;
            display: none;
        }

        .crisis-warning.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .messages {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 20px;
            padding: 10px 0;
            display: flex;
            flex-direction: column;
            gap: 16px;
            max-height: 500px;
        }

        .message {
            max-width: 85%;
            padding: 14px 18px;
            border-radius: 18px;
            word-wrap: break-word;
            white-space: pre-wrap;
        }

        .message.user {
            align-self: flex-end;
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            color: white;
            border-bottom-right-radius: 6px;
        }

        .message.bot {
            align-self: flex-start;
            background: #f1f5f9;
            color: #1e293b;
            border-bottom-left-radius: 6px;
        }

        .typing {
            align-self: flex-start;
            background: #e2e8f0;
            color: #64748b;
            padding: 14px 18px;
            border-radius: 18px;
            border-bottom-left-radius: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-style: italic;
        }

        .typing-dots {
            display: flex;
            gap: 3px;
        }

        .typing-dots span {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #64748b;
            animation: bounce 1.4s infinite;
        }

        .typing-dots span:nth-child(2) { animation-delay: 0.2s; }
        .typing-dots span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes bounce {
            0%, 80%, 100% { opacity: 0.3; transform: scale(0.8); }
            40% { opacity: 1; transform: scale(1); }
        }

        .quick-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .quick-btn {
            background: #dbeafe;
            border: 1px solid #93c5fd;
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quick-btn:hover {
            background: #2563eb;
            color: white;
        }

        .input-section {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }

        .input-field {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 24px;
            font-size: 16px;
            resize: none;
            font-family: inherit;
            min-height: 48px;
            max-height: 120px;
        }

        .input-field:focus {
            outline: none;
            border-color: #2563eb;
        }

        .send-btn {
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: background 0.2s;
        }

        .send-btn:hover:not(:disabled) {
            background: #1d4ed8;
        }

        .send-btn:disabled {
            background: #cbd5e1;
            cursor: not-allowed;
        }

        .actions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .action-btn {
            background: #f1f5f9;
            border: 1px solid #cbd5e1;
            border-radius: 16px;
            padding: 8px 14px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-btn:hover {
            background: #dbeafe;
            border-color: #2563eb;
        }

        .footer {
            text-align: center;
            color: #64748b;
            font-size: 13px;
            padding: 20px 0;
            line-height: 1.5;
        }

        .footer strong {
            color: #dc2626;
        }

        @media (max-width: 640px) {
            .container {
                padding: 10px;
            }
            
            .chat-card {
                padding: 16px;
            }
            
            .messages {
                max-height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Mind Flow</h1>
            <p>A safe space to talk about what's on your mind</p>
        </div>

        <div class="chat-card">
            <div id="crisis-warning" class="crisis-warning">
                ⚠️ If you're having thoughts of suicide or self-harm, please reach out for immediate help
            </div>

            <div id="messages" class="messages"></div>
            
            <div id="quick-options" class="quick-options">
                <button class="quick-btn" data-message="I'm feeling anxious">Feeling anxious</button>
                <button class="quick-btn" data-message="I can't sleep">Can't sleep</button>
                <button class="quick-btn" data-message="I feel lonely">Feeling lonely</button>
                <button class="quick-btn" data-message="I'm stressed about work">Work stress</button>
                <button class="quick-btn" data-message="I feel overwhelmed">Feeling overwhelmed</button>
            </div>
            
            <div class="input-section">
                <textarea 
                    id="message-input" 
                    class="input-field" 
                    placeholder="What's on your mind? I'm here to listen..."
                    rows="1"
                ></textarea>
                <button id="send-btn" class="send-btn">→</button>
            </div>
        </div>

        <div class="footer">
            <p>This is a supportive chat tool, not professional therapy.</p>
            <p><strong>In crisis?</strong> Call 988 (Suicide & Crisis Lifeline) or text HOME to 741741</p>
        </div>
    </div>

    <script>
        // Simple mental health chat system
        class MindFlowChat {
            constructor() {
                this.messages = [];
                this.isTyping = false;
                
                this.init();
            }

            init() {
                this.messagesEl = document.getElementById('messages');
                this.inputEl = document.getElementById('message-input');
                this.sendBtn = document.getElementById('send-btn');
                this.quickOptions = document.getElementById('quick-options');
                this.crisisWarning = document.getElementById('crisis-warning');
                
                this.setupEvents();
                this.setupInputResize();
                this.showWelcome();
            }

            setupEvents() {
                // Send button
                this.sendBtn.addEventListener('click', () => this.sendMessage());
                
                // Enter key
                this.inputEl.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });

                // Input changes
                this.inputEl.addEventListener('input', () => {
                    this.updateSendButton();
                });

                // Quick option buttons
                this.quickOptions.addEventListener('click', (e) => {
                    if (e.target.matches('.quick-btn')) {
                        const message = e.target.dataset.message;
                        this.sendMessage(message);
                        this.quickOptions.style.display = 'none';
                    }
                });
            }

            setupInputResize() {
                this.inputEl.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = Math.min(this.scrollHeight, 120) + 'px';
                });
            }

            updateSendButton() {
                this.sendBtn.disabled = !this.inputEl.value.trim();
            }

            showWelcome() {
                setTimeout(() => {
                    this.addBotMessage("Hi! I'm here to listen and support you. What's been on your mind lately?");
                }, 500);
            }

            sendMessage(text = null) {
                const message = text || this.inputEl.value.trim();
                if (!message) return;

                this.addUserMessage(message);
                
                if (!text) {
                    this.inputEl.value = '';
                    this.inputEl.style.height = 'auto';
                    this.updateSendButton();
                }

                this.showTyping();
                this.processMessage(message);
            }

            addUserMessage(text) {
                const msgEl = document.createElement('div');
                msgEl.className = 'message user';
                msgEl.textContent = text;
                this.messagesEl.appendChild(msgEl);
                this.scrollToBottom();
                
                this.messages.push({ type: 'user', text });
            }

            addBotMessage(text) {
                const msgEl = document.createElement('div');
                msgEl.className = 'message bot';
                msgEl.textContent = text;
                this.messagesEl.appendChild(msgEl);
                this.scrollToBottom();
                
                this.messages.push({ type: 'bot', text });
            }

            showTyping() {
                if (this.isTyping) return;
                
                const typingEl = document.createElement('div');
                typingEl.className = 'typing';
                typingEl.id = 'typing';
                typingEl.innerHTML = `
                    Thinking...
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                `;
                
                this.messagesEl.appendChild(typingEl);
                this.isTyping = true;
                this.scrollToBottom();
            }

            hideTyping() {
                const typingEl = document.getElementById('typing');
                if (typingEl) {
                    typingEl.remove();
                    this.isTyping = false;
                }
            }

            processMessage(message) {
                setTimeout(() => {
                    this.hideTyping();
                    
                    // Check for crisis
                    if (this.isCrisis(message)) {
                        this.handleCrisis();
                        return;
                    }

                    // Normal response
                    const topic = this.detectTopic(message);
                    const response = this.getResponse(topic);
                    
                    this.addBotMessage(response);
                    this.addSuggestions(topic);
                    
                }, 1000 + Math.random() * 1000);
            }

            isCrisis(message) {
                const text = message.toLowerCase();
                const crisisTerms = [
                    'kill myself', 'end my life', 'suicide', 'want to die',
                    'hurt myself', 'harm myself', 'no reason to live',
                    'better off dead', 'end it all', 'can\'t go on'
                ];
                
                return crisisTerms.some(term => text.includes(term));
            }

            handleCrisis() {
                this.crisisWarning.classList.add('show');
                
                this.addBotMessage("I'm really worried about what you've shared. Your life matters and there are people who want to help you right now.");
                
                setTimeout(() => {
                    this.addBotMessage("Please reach out to one of these resources immediately:\n\n• Call or text 988 (Suicide & Crisis Lifeline)\n• Text HOME to 741741 (Crisis Text Line)\n• Call 911 or go to your nearest emergency room\n\nYou don't have to face this alone.");
                }, 1000);
            }

            detectTopic(message) {
                const text = message.toLowerCase();
                
                if (/anxi|panic|stress|overwhelm|worried|nervous/.test(text)) return 'anxiety';
                if (/sleep|insomnia|tired|can't sleep/.test(text)) return 'sleep';
                if (/lonely|alone|isolat|no friends/.test(text)) return 'lonely';
                if (/sad|depress|down|hopeless|empty/.test(text)) return 'sad';
                if (/motivat|focus|energy|procrastinat/.test(text)) return 'motivation';
                if (/work|job|career|boss/.test(text)) return 'work';
                if (/school|college|grades|exam/.test(text)) return 'school';
                if (/relationship|partner|friend|family/.test(text)) return 'relationships';
                if (/angry|mad|frustrated|irritated/.test(text)) return 'anger';
                if (/thank|appreciate|better|helped/.test(text)) return 'gratitude';
                
                return 'general';
            }

            getResponse(topic) {
                const responses = {
                    anxiety: "Anxiety can feel really overwhelming. It's your body's way of trying to protect you, but sometimes it goes into overdrive. You're not alone in feeling this way.",
                    
                    sleep: "Sleep problems are so frustrating and can make everything else feel harder. Your sleep matters for your overall well-being.",
                    
                    lonely: "Loneliness is one of the most painful feelings. It takes courage to reach out, and I'm glad you did. Connection is a basic human need.",
                    
                    sad: "It sounds like you're going through a really tough time. Sadness is a natural response to difficult situations, even though it hurts.",
                    
                    motivation: "Everyone struggles with motivation sometimes. It doesn't mean you're lazy or broken - sometimes our minds and bodies need rest or a different approach.",
                    
                    work: "Work stress can be really draining and follow you home. It's important to acknowledge when work is affecting your well-being.",
                    
                    school: "School pressure is real and can feel overwhelming. Academic stress affects your whole life, not just your grades.",
                    
                    relationships: "Relationships can be complicated and emotionally exhausting sometimes. People are messy, and that includes all of us.",
                    
                    anger: "Anger is a normal emotion, even though it can feel intense. Usually it's telling us that something important to us is being threatened.",
                    
                    gratitude: "I'm really glad I could be helpful. It means a lot to know that you're feeling a bit better.",
                    
                    general: "Thank you for sharing that with me. I can hear that this is important to you. Would you like to tell me more about what's going on?"
                };

                return responses[topic] || responses.general;
            }

            addSuggestions(topic) {
                const suggestions = this.getSuggestions(topic);
                if (!suggestions.length) return;

                const actionsEl = document.createElement('div');
                actionsEl.className = 'actions';

                suggestions.forEach(suggestion => {
                    const btn = document.createElement('button');
                    btn.className = 'action-btn';
                    btn.textContent = suggestion.label;
                    btn.addEventListener('click', () => {
                        this.addBotMessage(suggestion.response);
                        actionsEl.remove();
                    });
                    actionsEl.appendChild(btn);
                });

                this.messagesEl.appendChild(actionsEl);
                this.scrollToBottom();
            }

            getSuggestions(topic) {
                const suggestions = {
                    anxiety: [
                        {
                            label: 'Try breathing exercise',
                            response: 'Here\'s a simple breathing technique that can help calm anxiety:\n\n1. Breathe in slowly through your nose for 4 counts\n2. Hold your breath for 4 counts\n3. Breathe out slowly through your mouth for 6 counts\n4. Repeat 3-5 times\n\nThis activates your body\'s relaxation response.'
                        },
                        {
                            label: 'Grounding technique',
                            response: 'Try this grounding exercise to help you feel more present:\n\n• Look around and name 5 things you can see\n• Name 4 things you can touch\n• Name 3 things you can hear\n• Name 2 things you can smell\n• Name 1 thing you can taste\n\nThis helps bring your mind back to the present moment.'
                        }
                    ],
                    sleep: [
                        {
                            label: 'Sleep tips',
                            response: 'Here are some gentle sleep suggestions:\n\n• Try to go to bed and wake up at the same time each day\n• Avoid screens for 1 hour before bed\n• Keep your bedroom cool, dark, and quiet\n• Try reading or gentle stretching before bed\n• Limit caffeine after 2 PM\n\nStart with just one that feels manageable for you.'
                        }
                    ],
                    lonely: [
                        {
                            label: 'Connection ideas',
                            response: 'Here are some ways to create connection:\n\n• Reach out to someone you haven\'t talked to in a while\n• Join a local group, class, or volunteer opportunity\n• Spend time in public spaces like cafes or libraries\n• Try online communities for your interests\n• Even small interactions (like chatting with a cashier) can help\n\nWhat feels most comfortable for you to try?'
                        }
                    ],
                    sad: [
                        {
                            label: 'Gentle self-care',
                            response: 'When feeling down, small acts of kindness to yourself can help:\n\n• Take a warm shower or bath\n• Go outside for a few minutes, even just to sit\n• Listen to music that comforts you\n• Do something creative with your hands\n• Reach out to someone who cares about you\n\nYou don\'t have to do everything - even one small thing counts.'
                        }
                    ],
                    motivation: [
                        {
                            label: 'Small steps approach',
                            response: 'When motivation is low, try the "tiny step" method:\n\n• Pick one very small task (2-5 minutes max)\n• Set a timer and just do that one thing\n• Celebrate that you did it\n• If you feel like doing more, great! If not, that\'s okay too\n\nSometimes starting is the hardest part, and momentum can build from there.'
                        }
                    ]
                };

                return suggestions[topic] || [];
            }

            scrollToBottom() {
                this.messagesEl.scrollTop = this.messagesEl.scrollHeight;
            }
        }

        // Start the chat when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new MindFlowChat();
        });
    </script>
</body>
</html>